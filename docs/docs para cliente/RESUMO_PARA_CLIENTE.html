<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biohelp LRP â€” Resumo Executivo</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #ffffff;
            --bg-secondary: #f7f6f3;
            --bg-hover: #efefef;
            --text: #37352f;
            --text-secondary: #6b6b6b;
            --text-light: #9b9a97;
            --border: #e3e2de;
            --accent: #2eaadc;
            --green: #0f7b6c;
            --green-bg: #dbeddb;
            --yellow: #dfab01;
            --yellow-bg: #fdecc8;
            --red: #e03e3e;
            --red-bg: #ffe2dd;
            --blue: #0b6e99;
            --blue-bg: #d3e5ef;
            --purple: #6940a5;
            --purple-bg: #e8deee;
            --gray-bg: #ebeced;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
            font-size: 16px;
        }
        .page { max-width: 900px; margin: 0 auto; padding: 80px 96px; }
        @media (max-width: 768px) { .page { padding: 40px 24px; } }
        .page-header { margin-bottom: 48px; }
        .page-icon { font-size: 78px; margin-bottom: 16px; }
        h1.page-title { font-size: 40px; font-weight: 700; letter-spacing: -0.02em; margin-bottom: 8px; }
        .page-description { color: var(--text-secondary); font-size: 16px; }
        .status-inline {
            display: inline-flex; align-items: center; gap: 6px;
            background: var(--green-bg); color: var(--green);
            padding: 3px 8px; border-radius: 3px; font-size: 14px; font-weight: 500; margin-left: 8px;
        }
        h1 { font-size: 30px; font-weight: 600; margin: 48px 0 16px; letter-spacing: -0.01em; }
        h2 { font-size: 24px; font-weight: 600; margin: 40px 0 12px; letter-spacing: -0.01em; }
        h3 { font-size: 20px; font-weight: 600; margin: 32px 0 8px; }
        h4 { font-size: 16px; font-weight: 600; margin: 24px 0 8px; }
        p { margin: 8px 0; color: var(--text); }
        a { color: var(--text); text-decoration: underline; text-decoration-color: var(--border); text-underline-offset: 2px; }
        a:hover { text-decoration-color: var(--text); }
        hr { border: none; border-top: 1px solid var(--border); margin: 32px 0; }
        .progress-section { margin: 24px 0; }
        .progress-item { display: flex; align-items: center; gap: 16px; padding: 8px 0; }
        .progress-label { width: 220px; font-size: 14px; color: var(--text); }
        .progress-bar { flex: 1; height: 8px; background: var(--bg-secondary); border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; background: var(--green); border-radius: 4px; }
        .progress-fill.pending { background: var(--border); }
        .progress-value { width: 70px; text-align: right; font-size: 14px; color: var(--text-secondary); }
        .callout { display: flex; gap: 12px; padding: 16px; border-radius: 4px; margin: 16px 0; }
        .callout-icon { font-size: 20px; flex-shrink: 0; }
        .callout-content { flex: 1; }
        .callout.gray { background: var(--gray-bg); }
        .callout.yellow { background: var(--yellow-bg); }
        .callout.green { background: var(--green-bg); }
        .callout.blue { background: var(--blue-bg); }
        .callout.red { background: var(--red-bg); }
        .callout.purple { background: var(--purple-bg); }
        table { width: 100%; border-collapse: collapse; margin: 16px 0; font-size: 14px; }
        th { text-align: left; padding: 8px 12px; background: var(--bg-secondary); font-weight: 500; color: var(--text-secondary); border: 1px solid var(--border); }
        td { padding: 8px 12px; border: 1px solid var(--border); vertical-align: top; }
        tr:hover td { background: var(--bg-secondary); }
        .tag { display: inline-block; padding: 2px 6px; border-radius: 3px; font-size: 12px; font-weight: 500; }
        .tag.green { background: var(--green-bg); color: var(--green); }
        .tag.yellow { background: var(--yellow-bg); color: var(--yellow); }
        .tag.red { background: var(--red-bg); color: var(--red); }
        .tag.blue { background: var(--blue-bg); color: var(--blue); }
        .tag.gray { background: var(--gray-bg); color: var(--text-secondary); }
        code { font-family: 'IBM Plex Mono', monospace; background: var(--bg-secondary); padding: 2px 5px; border-radius: 3px; font-size: 14px; color: var(--red); }
        pre { font-family: 'IBM Plex Mono', monospace; background: var(--bg-secondary); padding: 16px; border-radius: 4px; overflow-x: auto; font-size: 12px; line-height: 1.4; margin: 16px 0; white-space: pre-wrap; }
        pre code { background: none; padding: 0; color: var(--text); }
        details { margin: 8px 0; border: 1px solid var(--border); border-radius: 4px; }
        summary { cursor: pointer; padding: 12px 16px; font-weight: 500; list-style: none; display: flex; align-items: center; gap: 8px; background: var(--bg-secondary); }
        summary::before { content: 'â–¶'; font-size: 10px; color: var(--text-light); transition: transform 0.2s; }
        details[open] summary::before { transform: rotate(90deg); }
        summary::-webkit-details-marker { display: none; }
        details > .content { padding: 16px; }
        .toc { margin: 24px 0; }
        .toc-item { display: block; padding: 6px 0; color: var(--text-secondary); text-decoration: none; font-size: 14px; border-radius: 3px; transition: background 0.1s; }
        .toc-item:hover { color: var(--text); background: var(--bg-hover); padding-left: 8px; }
        .checklist { list-style: none; margin: 8px 0; }
        .checklist li { display: flex; align-items: flex-start; gap: 8px; padding: 4px 0; font-size: 15px; }
        .checklist li::before { content: 'â˜‘'; color: var(--green); font-size: 16px; }
        ul.bullet { list-style: none; margin: 8px 0; }
        ul.bullet li { position: relative; padding-left: 24px; margin: 4px 0; }
        ul.bullet li::before { content: 'â€¢'; position: absolute; left: 8px; color: var(--text-light); }
        ol.numbered { list-style: none; counter-reset: item; margin: 8px 0; }
        ol.numbered li { position: relative; padding-left: 32px; margin: 6px 0; counter-increment: item; }
        ol.numbered li::before { content: counter(item) "."; position: absolute; left: 8px; color: var(--text-light); font-weight: 500; }
        .columns { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 24px; margin: 16px 0; }
        .column { padding: 16px; background: var(--bg-secondary); border-radius: 4px; }
        .column h4 { font-size: 14px; font-weight: 600; margin-bottom: 8px; }
        .diagram { background: var(--bg-secondary); border-radius: 4px; padding: 20px; margin: 16px 0; overflow-x: auto; }
        .diagram pre { background: none; padding: 0; margin: 0; font-size: 11px; line-height: 1.3; }
        .page-footer { margin-top: 64px; padding-top: 24px; border-top: 1px solid var(--border); color: var(--text-light); font-size: 13px; text-align: center; }
        .test-table th:last-child, .test-table td:last-child { text-align: center; width: 80px; }
        .fr-table { font-size: 13px; }
        .fr-table td:first-child { font-weight: 500; white-space: nowrap; }
        .security-box { background: linear-gradient(135deg, var(--green-bg) 0%, var(--blue-bg) 100%); padding: 20px; border-radius: 8px; margin: 16px 0; }
        .security-item { display: flex; align-items: flex-start; gap: 12px; padding: 8px 0; }
        .security-icon { font-size: 18px; }
    </style>
</head>
<body>
    <div class="page">
        <!-- Header -->
        <header class="page-header">
            <div class="page-icon">ğŸ“Š</div>
            <h1 class="page-title">Biohelp LRP<span class="status-inline">Sprint 7 âœ… CONCLUÃDO</span></h1>
            <p class="page-description">Resumo Executivo do Projeto â€¢ Ãšltima atualizaÃ§Ã£o: 18/02/2026</p>
        </header>

        <!-- Progress -->
        <section class="progress-section">
            <div class="progress-item">
                <span class="progress-label">Sprint 1 â€” MVP Operacional</span>
                <div class="progress-bar"><div class="progress-fill" style="width: 100%"></div></div>
                <span class="progress-value">100% âœ…</span>
            </div>
            <div class="progress-item">
                <span class="progress-label">Sprint 2 â€” CV + Status</span>
                <div class="progress-bar"><div class="progress-fill" style="width: 100%"></div></div>
                <span class="progress-value">100% âœ…</span>
            </div>
            <div class="progress-item">
                <span class="progress-label">Sprint 3 â€” Rede Visual</span>
                <div class="progress-bar"><div class="progress-fill" style="width: 100%"></div></div>
                <span class="progress-value">100% âœ…</span>
            </div>
            <div class="progress-item">
                <span class="progress-label">Sprint 4 â€” ComissÃµes</span>
                <div class="progress-bar"><div class="progress-fill" style="width: 100%"></div></div>
                <span class="progress-value">100% âœ…</span>
            </div>
            <div class="progress-item">
                <span class="progress-label">Sprint 5 â€” Saques</span>
                <div class="progress-bar"><div class="progress-fill" style="width: 92%"></div></div>
                <span class="progress-value">92% âœ…</span>
            </div>
            <div class="progress-item">
                <span class="progress-label">Sprint 6 â€” Admin AvanÃ§ado</span>
                <div class="progress-bar"><div class="progress-fill" style="width: 100%"></div></div>
                <span class="progress-value">100% âœ…</span>
            </div>
            <div class="progress-item">
                <span class="progress-label">Sprint 7 â€” Creatina + DecisÃµes</span>
                <div class="progress-bar"><div class="progress-fill" style="width: 100%"></div></div>
                <span class="progress-value">100% âœ…</span>
            </div>
        </section>

        <!-- Cobertura FRs -->
        <h3>Cobertura de Requisitos Funcionais (FRs)</h3>
        <table>
            <thead><tr><th>Categoria</th><th>Total</th><th>âœ…</th><th>âš ï¸</th><th>â³</th><th>%</th></tr></thead>
            <tbody>
                <tr><td>Identidade/Acesso</td><td>3</td><td>3</td><td>0</td><td>0</td><td>100%</td></tr>
                <tr><td>Cadastro/IndicaÃ§Ã£o</td><td>5</td><td>5</td><td>0</td><td>0</td><td>100%</td></tr>
                <tr><td>Rede/VisualizaÃ§Ã£o</td><td>4</td><td>4</td><td>0</td><td>0</td><td>100%</td></tr>
                <tr><td>CV/Status</td><td>5</td><td>5</td><td>0</td><td>0</td><td>100%</td></tr>
                <tr><td>NÃ­veis</td><td>3</td><td>3</td><td>0</td><td>0</td><td>100%</td></tr>
                <tr><td>ComissÃµes</td><td>7</td><td>7</td><td>0</td><td>0</td><td>100%</td></tr>
                <tr><td>Saques</td><td>6</td><td>5</td><td>1</td><td>0</td><td>92%</td></tr>
                <tr><td>Admin</td><td>5</td><td>5</td><td>0</td><td>0</td><td>100%</td></tr>
                <tr style="font-weight: 600; background: var(--green-bg);"><td>TOTAL</td><td>38</td><td>37</td><td>1</td><td>0</td><td>98%</td></tr>
            </tbody>
        </table>

        <hr>

        <!-- Sprint 7 Highlight -->
        <section id="sprint7">
            <h1>ğŸ Sprint 7 â€” Creatina + DecisÃµes Fev/2026 âœ…</h1>
            <p><strong>Data de conclusÃ£o:</strong> 11/02/2026 + SeguranÃ§a 18/02/2026 | <strong>Status:</strong> CONCLUÃDO (100%)</p>

            <div class="callout green">
                <span class="callout-icon">âœ…</span>
                <div class="callout-content">
                    <strong>6 DecisÃµes resolvidas e implementadas + SeguranÃ§a Anti-Fraude</strong>
                    <p style="margin-top: 8px;">TBD-001, TBD-003, TBD-006, TBD-007, TBD-014, TBD-019</p>
                </div>
            </div>

            <h3>O que foi entregue</h3>
            <table>
                <thead><tr><th>#</th><th>Funcionalidade</th><th>TBD/FR</th><th>Status</th><th>DescriÃ§Ã£o</th></tr></thead>
                <tbody>
                    <tr><td>1</td><td>House Account</td><td>TBD-001</td><td><span class="tag green">âœ…</span></td><td>Cadastro sem link â†’ sponsor = empresa</td></tr>
                    <tr><td>2</td><td>Tag de nÃ­vel</td><td>TBD-003</td><td><span class="tag green">âœ…</span></td><td>Tag <code>nivel:&lt;nivel&gt;</code> no Shopify</td></tr>
                    <tr><td>3</td><td>ref_code sequencial</td><td>TBD-006</td><td><span class="tag green">âœ…</span></td><td>Formato BH00001 + customizaÃ§Ã£o admin</td></tr>
                    <tr><td>4</td><td>Landing page</td><td>TBD-007</td><td><span class="tag green">âœ…</span></td><td>Redirect para /login</td></tr>
                    <tr><td>5</td><td>CV sem fallback</td><td>TBD-014</td><td><span class="tag green">âœ…</span></td><td>CV=0 se metafield ausente</td></tr>
                    <tr><td>6</td><td>Cupom creatina</td><td>TBD-019</td><td><span class="tag green">âœ…</span></td><td>Cupom individual mensal via Shopify API</td></tr>
                    <tr><td>7</td><td>SeguranÃ§a anti-fraude</td><td>-</td><td><span class="tag green">âœ…</span></td><td>7 camadas de proteÃ§Ã£o no cupom</td></tr>
                </tbody>
            </table>

            <h2>TBD-019 â€” Cupom Individual Mensal de Creatina</h2>
            
            <p><strong>Regra:</strong> Membro Ativo (CV >= 200) recebe cupom exclusivo para 1 creatina grÃ¡tis/mÃªs.</p>
            
            <p><strong>Formato do cupom:</strong> <code>CREATINA-&lt;NOME&gt;-&lt;HASH&gt;-&lt;MÃŠSANO&gt;</code></p>
            <ul class="bullet">
                <li>Exemplo: <code>CREATINA-MARIA-X7K9-FEV2026</code></li>
                <li>O <strong>hash aleatÃ³rio</strong> (X7K9) torna o cÃ³digo Ãºnico e nÃ£o adivinhÃ¡vel</li>
            </ul>

            <details open>
                <summary>ğŸ“‹ Fluxo da Creatina GrÃ¡tis</summary>
                <div class="content">
                    <div class="diagram">
<pre>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FLUXO DA CREATINA GRÃTIS (Sprint 7)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1ï¸âƒ£ SISTEMA GERA CUPONS (dia 2 de cada mÃªs, automÃ¡tico)
   â”‚
   â”‚  Cron job: /api/cron/generate-creatine-coupons
   â”‚  Para cada membro ativo:
   â”‚  â”œâ”€â”€ Cria Price Rule na Shopify (100% OFF, 1 uso)
   â”‚  â”œâ”€â”€ Restringe ao customer_id do membro (seguranÃ§a)
   â”‚  â””â”€â”€ Gera Discount Code: CREATINA-MARIA-X7K9-FEV2026
   â”‚
   â–¼
2ï¸âƒ£ MEMBRO ACESSA DASHBOARD
   â”‚
   â”‚  Card "Creatina GrÃ¡tis do MÃªs"
   â”‚  Mostra: "Seu cupom estÃ¡ pronto!"
   â”‚  Exibe cÃ³digo: CREATINA-MARIA-X7K9-FEV2026
   â”‚  BotÃ£o de copiar ğŸ“‹
   â”‚
   â–¼
3ï¸âƒ£ MEMBRO USA NA LOJA
   â”‚
   â”‚  Adiciona creatina ao carrinho
   â”‚  No checkout, cola o cupom
   â”‚  âš ï¸ Se outra pessoa tentar usar â†’ Shopify rejeita (restrito ao dono)
   â”‚  Desconto de 100% aplicado automaticamente
   â”‚
   â–¼
4ï¸âƒ£ WEBHOOK DETECTA USO + VALIDA SEGURANÃ‡A
   â”‚
   â”‚  Webhook orders/paid detecta cupom CREATINA-*
   â”‚  âœ… Se dono correto â†’ Atualiza status = 'claimed'
   â”‚  âš ï¸ Se fraude â†’ Registra em fraud_details
   â”‚
   â–¼
5ï¸âƒ£ DASHBOARD ATUALIZA
   â”‚
   â”‚  Card mostra: "JÃ¡ utilizado este mÃªs âœ…"
   â”‚  PrÃ³ximo cupom: mÃªs seguinte
   â”‚
   â””â”€â”€ FIM DO FLUXO</pre>
                    </div>
                </div>
            </details>

            <h3>Estados do Card no Dashboard</h3>
            <table>
                <thead><tr><th>Estado</th><th>Cor</th><th>DescriÃ§Ã£o</th></tr></thead>
                <tbody>
                    <tr><td>Cupom pronto</td><td><span class="tag green">ğŸŸ¢ Verde</span></td><td>Exibe cÃ³digo + botÃ£o copiar</td></tr>
                    <tr><td>JÃ¡ utilizado</td><td><span class="tag yellow">ğŸŸ¡ Amarelo</span></td><td>Membro usou este mÃªs</td></tr>
                    <tr><td>IndisponÃ­vel</td><td><span class="tag gray">âšª Cinza</span></td><td>Membro nÃ£o atingiu 200 CV</td></tr>
                    <tr><td>Gerando...</td><td><span class="tag blue">â³ Azul</span></td><td>Cupom sendo gerado</td></tr>
                </tbody>
            </table>

            <h2>ğŸ”’ SeguranÃ§a Anti-Fraude do Cupom (18/02/2026)</h2>
            
            <div class="security-box">
                <div class="security-item">
                    <span class="security-icon">ğŸ”’</span>
                    <div><strong>CAMADA 1: CÃ³digo NÃ£o AdivinhÃ¡vel</strong><br>Hash aleatÃ³rio de 4 caracteres (ex: X7K9). ImpossÃ­vel "chutar" o cÃ³digo de outro membro.</div>
                </div>
                <div class="security-item">
                    <span class="security-icon">ğŸ”’</span>
                    <div><strong>CAMADA 2: RestriÃ§Ã£o por Customer (Shopify)</strong><br>Cupom vinculado ao shopify_customer_id do membro. Shopify rejeita se outra pessoa tentar usar.</div>
                </div>
                <div class="security-item">
                    <span class="security-icon">ğŸ”’</span>
                    <div><strong>CAMADA 3: Limite de 1 Uso Global</strong><br>usage_limit: 1 â†’ Uma vez usado, cupom invÃ¡lido. once_per_customer: true â†’ Extra seguranÃ§a.</div>
                </div>
                <div class="security-item">
                    <span class="security-icon">ğŸ”’</span>
                    <div><strong>CAMADA 4: Validade Temporal</strong><br>Cupom expira no Ãºltimo dia do mÃªs. NÃ£o pode ser guardado para usar depois.</div>
                </div>
                <div class="security-item">
                    <span class="security-icon">ğŸ”’</span>
                    <div><strong>CAMADA 5: Unicidade no Banco</strong><br>UNIQUE INDEX em coupon_code. ImpossÃ­vel gerar cÃ³digo duplicado.</div>
                </div>
                <div class="security-item">
                    <span class="security-icon">ğŸ”’</span>
                    <div><strong>CAMADA 6: ValidaÃ§Ã£o no Webhook</strong><br>Webhook verifica se quem usou Ã© o dono. Fraude detectada â†’ Registra em fraud_details.</div>
                </div>
                <div class="security-item">
                    <span class="security-icon">ğŸ”’</span>
                    <div><strong>CAMADA 7: Auditoria Admin</strong><br>View v_creatine_fraud_attempts. Admin pode ver todas as tentativas suspeitas.</div>
                </div>
            </div>

            <h3>O que acontece em cada cenÃ¡rio</h3>
            <table>
                <thead><tr><th>CenÃ¡rio</th><th>Resultado</th></tr></thead>
                <tbody>
                    <tr><td>Membro usa seu prÃ³prio cupom</td><td><span class="tag green">âœ… Funciona normalmente</span></td></tr>
                    <tr><td>AlguÃ©m tenta usar cupom de outro</td><td><span class="tag red">âŒ Shopify rejeita (customer_selection)</span></td></tr>
                    <tr><td>AlguÃ©m "chuta" um cÃ³digo</td><td><span class="tag red">âŒ Hash torna impossÃ­vel adivinhar</span></td></tr>
                    <tr><td>Membro tenta usar 2x no mÃªs</td><td><span class="tag red">âŒ usage_limit: 1 jÃ¡ foi usado</span></td></tr>
                    <tr><td>Membro guarda para mÃªs seguinte</td><td><span class="tag red">âŒ ends_at expira fim do mÃªs</span></td></tr>
                    <tr><td>Fraude passa (edge case)</td><td><span class="tag yellow">âš ï¸ Webhook registra fraud_details</span></td></tr>
                </tbody>
            </table>

            <h3>APIs e Banco de Dados (Sprint 7)</h3>
            <table>
                <thead><tr><th>Item</th><th>DescriÃ§Ã£o</th></tr></thead>
                <tbody>
                    <tr><td><code>GET /api/members/me/free-creatine</code></td><td>Elegibilidade + gera cupom</td></tr>
                    <tr><td><code>PATCH /api/admin/members/[id]</code></td><td>Customizar ref_code</td></tr>
                    <tr><td><code>GET /api/cron/generate-creatine-coupons</code></td><td>Cron mensal (dia 2, 05:00 UTC)</td></tr>
                    <tr><td><code>free_creatine_claims.coupon_code</code></td><td>CÃ³digo do cupom gerado</td></tr>
                    <tr><td><code>free_creatine_claims.fraud_details</code></td><td>JSON com detalhes de fraude</td></tr>
                    <tr><td><code>v_creatine_fraud_attempts</code></td><td>View para auditoria de fraudes</td></tr>
                    <tr><td>UNIQUE(coupon_code)</td><td>Garante cÃ³digo Ãºnico (seguranÃ§a)</td></tr>
                </tbody>
            </table>
        </section>

        <hr>

        <!-- Status Atual -->
        <section>
            <h1>ğŸ‰ Status Atual</h1>

            <div class="callout green">
                <span class="callout-icon">âœ…</span>
                <div class="callout-content">
                    <strong>Todos os Sprints (1-7) â€” CONCLUÃDOS!</strong>
                    <p style="margin-top: 8px;"><strong>Data de conclusÃ£o Sprint 7:</strong> 11/02/2026</p>
                    <p><strong>SeguranÃ§a anti-fraude:</strong> 18/02/2026</p>
                    <p><strong>Testes de integraÃ§Ã£o:</strong> âœ… APROVADOS (04/02/2026)</p>
                    <p><strong>Cobertura de FRs:</strong> 98% (37/38 implementados)</p>
                    <p><strong>TBDs resolvidos:</strong> 21/22 (1 pendente: TBD-004 â€” URLs oficiais)</p>
                </div>
            </div>

            <h3>O que foi feito em 11/02/2026</h3>
            <p><strong>ReuniÃ£o de alinhamento â†’ 6 decisÃµes resolvidas e implementadas:</strong></p>
            <ol class="numbered">
                <li>âœ… TBD-001 â€” Cadastro sem link â†’ House Account</li>
                <li>âœ… TBD-003 â€” Tag de nÃ­vel <code>nivel:&lt;nivel&gt;</code> no Shopify</li>
                <li>âœ… TBD-006 â€” ref_code sequencial BH00001 + customizaÃ§Ã£o admin</li>
                <li>âœ… TBD-007 â€” Landing page mantÃ©m redirect para /login</li>
                <li>âœ… TBD-014 â€” CV=0 se metafield ausente (sem fallback preÃ§o)</li>
                <li>âœ… TBD-019 â€” Cupom Individual Mensal para creatina grÃ¡tis</li>
            </ol>

            <h3>O que foi feito em 18/02/2026</h3>
            <p><strong>SeguranÃ§a anti-fraude do cupom de creatina:</strong></p>
            <ul class="bullet">
                <li>Hash aleatÃ³rio no cÃ³digo (nÃ£o adivinhÃ¡vel)</li>
                <li>Cupom restrito ao shopify_customer_id do membro</li>
                <li>ValidaÃ§Ã£o no webhook detecta fraude</li>
                <li>Campo fraud_details para registro</li>
                <li>View v_creatine_fraud_attempts para auditoria</li>
            </ul>

            <h3>PrÃ³ximos Passos</h3>
            <ul class="bullet">
                <li>â³ IntegraÃ§Ã£o Asaas automÃ¡tica (aguardando credenciais)</li>
                <li>â³ Definir URLs oficiais staging/prod (TBD-004)</li>
                <li>â³ Remover senha da loja para produÃ§Ã£o</li>
                <li>â³ Testar fluxo completo de indicaÃ§Ã£o (comissÃµes em produÃ§Ã£o)</li>
            </ul>
        </section>

        <hr>

        <!-- Checklist de Aceite -->
        <section>
            <h1>âœ… Checklist de Aceite â€” Sprint 7</h1>

            <ul class="checklist">
                <li>House Account implementado (TBD-001)</li>
                <li>Tag de nÃ­vel <code>nivel:&lt;nivel&gt;</code> (TBD-003)</li>
                <li>ref_code sequencial BH00001 (TBD-006)</li>
                <li>CV=0 se metafield ausente (TBD-014)</li>
                <li>Cupom individual mensal creatina (TBD-019)</li>
                <li>Frontend exibe cupom no dashboard</li>
                <li>Cron mensal gera cupons (dia 2/mÃªs)</li>
                <li>Webhook detecta uso de cupom CREATINA-*</li>
                <li>Admin pode customizar ref_code</li>
                <li>level/status passados no sync Shopify</li>
                <li>UNIQUE constraint em free_creatine_claims</li>
                <li>SeguranÃ§a anti-fraude com 7 camadas</li>
                <li>View de auditoria para admin</li>
            </ul>
        </section>

        <hr>

        <!-- TBDs -->
        <section id="tbd">
            <h1>ğŸ“‹ DecisÃµes (TBD)</h1>

            <h3>Pendentes (1 restante)</h3>
            <table>
                <thead><tr><th>TBD</th><th>DescriÃ§Ã£o</th><th>Sprint</th><th>Impacto</th></tr></thead>
                <tbody>
                    <tr><td>TBD-004</td><td>URLs oficiais (staging/prod)</td><td>1</td><td>Redirects e webhooks</td></tr>
                </tbody>
            </table>

            <h3>Resolvidos âœ… (21 decisÃµes)</h3>
            <table>
                <thead><tr><th>TBD</th><th>DescriÃ§Ã£o</th><th>DecisÃ£o</th><th>Data</th></tr></thead>
                <tbody>
                    <tr><td>TBD-001</td><td>Cadastro sem link</td><td>House Account</td><td>11/02/2026</td></tr>
                    <tr><td>TBD-002</td><td>PreÃ§o de membro Shopify</td><td>Cliente configura na loja</td><td>11/02/2026</td></tr>
                    <tr><td>TBD-003</td><td>Tags/metacampos</td><td>Tags atuais + <code>nivel:&lt;nivel&gt;</code></td><td>11/02/2026</td></tr>
                    <tr><td>TBD-006</td><td>Formato ref_code</td><td>Sequencial BH00001 + customizaÃ§Ã£o</td><td>11/02/2026</td></tr>
                    <tr><td>TBD-014</td><td>Metafield CV</td><td><code>custom.cv</code>, CV=0 se ausente</td><td>11/02/2026</td></tr>
                    <tr><td>TBD-019</td><td>Creatina grÃ¡tis</td><td>Cupom Individual Mensal + SeguranÃ§a</td><td>18/02/2026</td></tr>
                </tbody>
            </table>
        </section>

        <!-- Footer -->
        <footer class="page-footer">
            <p>Biohelp LRP â€” Resumo Executivo</p>
            <p>Ãšltima atualizaÃ§Ã£o: 18/02/2026</p>
        </footer>
    </div>
</body>
</html>
